<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ITACHI7 - Ù„ÙˆØ­Ø© Ù„Ø§Ø¹Ø¨ÙŠÙ†</title>
<style>
body{
  font-family: Arial;
  background:#f2f7ff;
  text-align:center;
}
#box{
  max-width:600px;
  margin:30px auto;
  background:white;
  padding:20px;
  border-radius:10px;
  box-shadow:0 0 10px gray;
}
button,input{
  padding:10px;
  margin:5px;
  width:80%;
}
#timer{color:red;font-size:18px;}
table{
  width:100%;
  border-collapse: collapse;
}
td,th{
  border:1px solid #ccc;
  padding:8px;
}
</style>
</head>
<body>

<div id="box">
<h2>ITACHI7</h2>

<div id="login">
<input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨">
<br>
<button onclick="startGame()">Ø¯Ø®ÙˆÙ„</button>
</div>

<div id="game" style="display:none;">
<p id="timer">60</p>
<h3 id="q"></h3>
<div id="answers"></div>
<p>Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="score">0</span></p>
</div>

<div id="result" style="display:none;">
<h3 id="msg"></h3>
<button onclick="showLeaderboard()">Ø¹Ø±Ø¶ Ù„ÙˆØ­Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</button>
</div>

<div id="leaderboard" style="display:none;">
<h2>ğŸ† Ù„ÙˆØ­Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</h2>
<table>
<tr><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„Ù†Ù‚Ø§Ø·</th></tr>
<tbody id="board"></tbody>
</table>
<button onclick="location.reload()">Ø§Ù„Ù„Ø¹Ø¨ Ù…Ù† Ø¬Ø¯ÙŠØ¯</button>
</div>

</div>

<script>
let score = 0;
let time = 60;
let current = 0;
let player = "";

let questions = [
 ["Ù…Ø§ Ø£Ø³Ø±Ø¹ Ø­ÙŠÙˆØ§Ù†ØŸ",["Ø§Ù„ÙÙ‡Ø¯","Ø§Ù„Ù†Ø³Ø±","Ø§Ù„ÙƒÙ„Ø¨"],0],
 ["ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙˆØ§ÙƒØ¨ØŸ",["8","9","7"],0],
 ["Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ù…ØºØ±Ø¨ØŸ",["Ø§Ù„Ø±Ø¨Ø§Ø·","Ù…ÙƒÙ†Ø§Ø³","ÙØ§Ø³"],0],
 ["ÙƒÙ… ÙŠÙˆÙ… Ø¨Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ØŸ",["7","5","10"],0],
 ["ÙƒÙ… Ø¯Ù‚ÙŠÙ‚Ø© Ø¨Ø§Ù„Ø³Ø§Ø¹Ø©ØŸ",["60","100","30"],0]
];

function startGame(){
 if(name.value=="") return;
 player = name.value;
 login.style.display="none";
 game.style.display="block";

 setInterval(()=>{
  time--;
  timer.innerHTML = time;
  if(time <= 0) finish();
 },1000);

 showQ();
}

function showQ(){
 let q = questions[current];
 document.getElementById("q").innerHTML = q[0];
 answers.innerHTML="";
 q[1].forEach((a,i)=>{
  let b = document.createElement("button");
  b.innerHTML = a;
  b.onclick=()=>answer(i);
  answers.appendChild(b);
 });
}

function answer(i){
 if(i === questions[current][2]) score++;
 scoreSpan.innerHTML = score;
 current++;

 if(current >= questions.length) finish();
 else showQ();
}

function finish(){
 game.style.display="none";
 result.style.display="block";

 saveScore();

 msg.innerHTML = score < 3 ? "âŒ Ø®Ø³Ø±Øª" : "âœ… ÙØ²Øª";
}

function saveScore(){
 let data = JSON.parse(localStorage.getItem("players") || "[]");
 data.push({name:player,score:score});
 localStorage.setItem("players",JSON.stringify(data));
}

function showLeaderboard(){
 result.style.display="none";
 leaderboard.style.display="block";

 let data = JSON.parse(localStorage.getItem("players") || "[]");
 data.sort((a,b)=>b.score - a.score);

 board.innerHTML="";
 data.forEach(p=>{
   board.innerHTML += `<tr><td>${p.name}</td><td>${p.score}</td></tr>`;
 });
}
</script>

</body>
</html>
